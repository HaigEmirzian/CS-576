# I pledge my honor that I have abided by the Stevens Honor System
# Haig Emirzian

.global _start
.text

_start:
    # Air out the stack
    xor %rdx, %rdx

    # execve(filename, argv[], envp[])
    mov $59, %rax         # al contains the syscall number
    mov $arg0, %rdi  # rdi contains the filename
    mov $argv, %rsi      # rsi contains argv
    mov $0, %rdx         # rdx contains NULL
    syscall              # invoke operating system to execve

    # exit 0
    mov $60, %rax
    xor %rdi, %rdi      # we want return code 0
    syscall             # invoke operating system to exit

argv:
    .quad arg0, arg1, 0   

arg0:
    .ascii "/bin/cat\0"

arg1:
    .ascii "/etc/passwd\0"